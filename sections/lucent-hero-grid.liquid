{% comment %} lucent-hero-grid.liquid {% endcomment %}
<section class="lucent-hero page-width">
  <div class="lucent-hero__grid">
    {% for block in section.blocks %}
      {%- liquid
        assign i = forloop.index0

        comment
          delay（前に作ったやつ）
          0: large
          1: small 左上
          2: small 右上
          3: small 右下（i=4）
          4: small 左下（i=3）
        endcomment

        assign delay_order = 0
        if block.settings.size == 'large'
          assign delay_order = 0
        else
          if i == 1
            assign delay_order = 1
          elsif i == 2
            assign delay_order = 2
          elsif i == 4
            assign delay_order = 3
          elsif i == 3
            assign delay_order = 4
          else
            assign delay_order = 1
          endif
        endif
        assign delay_ms = delay_order | times: 200

        comment
          magnetic strength（好みで変えてOK）
          largeは少し強め、小は控えめ、みたいにもできる
        endcomment
        assign magnetic = 16
        if block.settings.size == 'large'
          assign magnetic = 18
        endif
      -%}

      <a
        href="{{ block.settings.link }}"
        class="lucent-hero__item lucent-hero__item--{{ block.settings.size }} lucent-reveal lucent-magnetic"
        style="--lucent-delay: {{ delay_ms }}ms;"
        data-magnetic="{{ magnetic }}"
        {{ block.shopify_attributes }}
      >
        {% if block.settings.image != blank %}
          {{ block.settings.image | image_url: width: 2000 | image_tag:
            loading: 'lazy',
            class: 'lucent-hero__image'
          }}
        {% endif %}

        <span class="lucent-hero__label">
          {{ block.settings.label }}
        </span>
      </a>
    {% endfor %}
  </div>

  {% comment %} トップページ固有のフッター {% endcomment %}
  <div class="lucent-hero__footer">
    © 2026 lucentcoffee. All rights reserved.
  </div>
</section>

{% schema %}
{
  "name": "Lucent Hero Grid",
  "blocks": [
    {
      "type": "item",
      "name": "Hero item",
      "settings": [
        { "type": "image_picker", "id": "image", "label": "Image" },
        { "type": "text", "id": "label", "label": "Label", "default": "All items" },
        { "type": "url", "id": "link", "label": "Link" },
        {
          "type": "select",
          "id": "size",
          "label": "Size",
          "options": [
            { "value": "large", "label": "Large" },
            { "value": "small", "label": "Small" }
          ],
          "default": "small"
        }
      ]
    }
  ],
  "max_blocks": 5,
  "presets": [
    {
      "name": "Lucent Hero Grid",
      "blocks": [
        { "type": "item", "settings": { "label": "All items", "size": "large" } },
        { "type": "item", "settings": { "label": "New arrivals" } },
        { "type": "item", "settings": { "label": "Special Coffee" } },
        { "type": "item", "settings": { "label": "Daily Coffee" } },
        { "type": "item", "settings": { "label": "Goods" } }
      ]
    }
  ]
}
{% endschema %}
